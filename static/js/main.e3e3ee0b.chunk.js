(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{132:function(e,t,a){e.exports=a.p+"static/media/preloader1.d5c02aa6.gif"},134:function(e,t,a){e.exports=a.p+"static/media/user.8b1dbb1f.png"},136:function(e,t,a){e.exports={profile_wrapper:"Profile_profile_wrapper__1lJ4_"}},137:function(e,t,a){e.exports={item:"Post_item__3_OiR",posts:"Post_posts__wEapD"}},166:function(e,t,a){e.exports=a(294)},171:function(e,t,a){},172:function(e,t,a){},19:function(e,t,a){e.exports={formControl:"FormsControls_formControl__1Wssk",error:"FormsControls_error__Lr8A7",warning:"FormsControls_warning__1ik2A",formSummaryError:"FormsControls_formSummaryError__1vavX"}},24:function(e,t,a){e.exports={nav:"Navbar_nav__2Na0t",item:"Navbar_item__1bENr",activeLink:"Navbar_activeLink__1wupa"}},292:function(e,t){},294:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(69),c=a.n(s),o=(a(171),a(172),a(41)),l=a(42),u=a(48),i=a(47),d=a(12),m=a(2),h=a.n(m),f=a(4),g=a(25),p=a(1),b=a(131),E=a(140),v=Object(E.a)("keyval-store",1,{upgrade:function(e){e.createObjectStore("keyval")}}),C=function(e){return Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v;case 2:return t.abrupt("return",t.sent.get("keyval",e));case 3:case"end":return t.stop()}}),t)})))()},_=function(e,t){return Object(f.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v;case 2:return a.abrupt("return",a.sent.put("keyval",t,e));case 3:case"end":return a.stop()}}),a)})))()},O=function(e){return Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v;case 2:return t.abrupt("return",t.sent.delete("keyval",e));case 3:case"end":return t.stop()}}),t)})))()},M=b.create({baseURL:"https://socnet97.herokuapp.com/",headers:{"Content-type":"application/json"}});M.interceptors.request.use(function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("token");case 2:return(a=e.sent)?t.headers.Authorization="Bearer "+a:delete t.headers.Authorization,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){Promise.reject(e)}));var I=function(){return M.get("api/auth/me/")},S=function(e,t){return console.log(e,"    ",t),M.post("api/auth/login/",{username:e,password:t})},F=function(e){return M.get("api/profile/".concat(e,"/"))},y=function(e){return M.put("api/profile/",e)},N=function(){return M.delete("api/profile/")},j=function(e){return M.put("api/profile/status/",{status:e})},w=function(e){return M.put("api/profile/photo/",{photos:e})},P={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return console.log("api/users?page=".concat(e,"&q=").concat(t)),null===t?M.get("api/users?page=".concat(e)):M.get("api/users?page=".concat(e,"&q=").concat(t))},follow:function(e){return M.post("api/follow/".concat(e,"/"))},unfollow:function(e){return M.delete("api/follow/".concat(e,"/"))},getfollow:function(e){return M.get("api/follow/".concat(e,"/"))}},U={chatPut:function(e,t,a,r,n){var s={putType:a};return s[r]=n,M.put("api/chats/".concat(e,"/").concat(t,"/"),s)},getChats:function(e,t){return null===t?M.get("api/chats/?page=".concat(e)):M.get("api/chats/?page=".concat(e,"&query=").concat(t))},createChat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==t?M.post("api/chats/create/",{snusers:e,name:t}):M.post("api/chats/create/",{snusers:e})},getChat:function(e,t){return M.get("api/chats/".concat(e,"/").concat(t,"/"))},deleteChat:function(e,t){return M.delete("api/chats/".concat(e,"/").concat(t,"/"))},clearChat:function(e,t,a,r){return this.chatPut(e,t,a,"clearType",r)},renameChat:function(e,t,a,r){return this.chatPut(e,t,a,"newChatName",r)},updateUnreadMsgs:function(e,t,a,r){return this.chatPut(e,t,a,"lastGlobalReadMsgId",r)},toogleMemberStatusForConversation:function(e,t,a,r){return this.chatPut(e,t,a,"userId",r)},addMemberForConversation:function(e,t,a,r){return this.chatPut(e,t,a,"userId",r)},removeMemberFromConversation:function(e,t,a,r){return this.chatPut(e,t,a,"userId",r)},removeMemberMsgsForConversation:function(e,t,a,r){return this.chatPut(e,t,a,"userId",r)},removeOneMemberMsgForConversation:function(e,t,a,r){return this.chatPut(e,t,a,"userId",r)},setChatPhoto:function(e,t,a,r){return this.chatPut(e,t,a,"newChatPhoto",r)},getMessages:function(e,t,a,r,n,s){return null===s?null===n?M.get("api/chats/".concat(e,"/").concat(t,"/messages/?readFromIndex=").concat(a,"&readFromIndexBefore=").concat(r)):M.get("api/chats/".concat(e,"/").concat(t,"/messages/?readFromIndex=").concat(a,"&readFromIndexBefore=").concat(r,"&query=").concat(n)):null===n?M.get("api/chats/".concat(e,"/").concat(t,"/messages/?readFromIndex=").concat(a,"&readFromIndexBefore=").concat(r,"&numOfDeletedMsgs=").concat(s)):M.get("api/chats/".concat(e,"/").concat(t,"/messages/?readFromIndex=").concat(a,"&readFromIndexBefore=").concat(r,"&query=").concat(n,"&numOfDeletedMsgs=").concat(s))},createMessage:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return M.post("api/chats/".concat(e,"/").concat(t,"/messages/create/"),{messageBody:a,fileId:r})},getFile:function(e){return M.get("api/files/".concat(e))},uploadFile:function(e,t){return M.post("api/files/",{fileURL:e,fileName:t})},editMessage:function(e,t,a,r){return console.log("api/chats/".concat(e,"/").concat(t,"/messages/").concat(a,"/")),console.log({newMessageBody:r}),M.put("api/chats/".concat(e,"/").concat(t,"/messages/").concat(a,"/"),{newMessageBody:r})},deleteMessage:function(e,t,a){return M.delete("api/chats/".concat(e,"/").concat(t,"/messages/").concat(a,"/"))}},T=a(17),x={userId:null,email:null,login:null,isAuth:!1},k=function(e,t,a,r){return{type:"my-app/auth/SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:r}}},A=function(e){return[e.userId,e.email,e.login]},R=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e(k.apply(void 0,Object(g.a)(A(t)).concat([a])))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"my-app/auth/SET_USER_DATA":return Object(p.a)(Object(p.a)({},e),t.payload);default:return e}},L=a(73),W=a.n(L),H=a(15),B=function(e){return n.a.createElement("header",{className:W.a.header},n.a.createElement("img",{src:"https://www.freelogodesign.org/Content/img/logo-ex-7.png"}),e.isAuth?n.a.createElement("div",{className:W.a.loginBlock},e.login," - ",n.a.createElement("a",{onClick:e.logout},"Logout")):n.a.createElement("div",{className:W.a.loginBlock},n.a.createElement(H.b,{to:"/login"},"Login")))},q=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return n.a.createElement(B,this.props)}}]),a}(n.a.Component),G=Object(d.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logout:function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("token");case 2:t(k(null,null,null,!1));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(q),z=a(24),V=a.n(z),J=function(){return n.a.createElement("nav",{className:V.a.nav},n.a.createElement("div",{className:V.a.item},n.a.createElement(H.b,{to:"/profile",activeClassName:V.a.activeLink},"Profile")),n.a.createElement("div",{className:"".concat(V.a.item," ").concat(V.a.active)},n.a.createElement(H.b,{to:"/users",activeClassName:V.a.activeLink},"Users")),n.a.createElement("div",{className:"".concat(V.a.item," ").concat(V.a.active)},n.a.createElement(H.b,{to:"/chats",activeClassName:V.a.activeLink},"Chats")),n.a.createElement("div",{className:"".concat(V.a.item," ").concat(V.a.active)},n.a.createElement(H.b,{to:"/login",activeClassName:V.a.activeLink},"Login")))},X=a(16),Z=a(11),K=a(10),Q=function(e){return{isAuth:e.auth.isAuth,userId:e.auth.userId}},Y=function(e){var t=function(t){Object(u.a)(r,t);var a=Object(i.a)(r);function r(){return Object(o.a)(this,r),a.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return this.props.isAuth?n.a.createElement(e,this.props):n.a.createElement(X.a,{to:"/login"})}}]),r}(n.a.Component);return Object(d.b)(Q)(t)},$=function(e){return e=JSON.parse(e.replace(/'/g,'"'))},ee={chatId:null,chatTypeId:null,chatsAliases:[],messages:[],chats:[],currentChat:null,isFetching:!1,isUnmount:!1,membersToSelect:[],readFromIndex:null,readFromIndexNext:null,readFromIndexBefore:null,IsFetchingMsgs:!1,loadingFilesIds:[],windowScrollOnMsgCreate:!1,isMessageCreating:!1,isRefreshedAfterMC:!1,numOfDeletedMsgs:0},te=function(e){return{type:"SET_CURRENT_CHAT_MEMBERS",members:e}},ae=function(e){return{type:"SET_CURRENT_CHAT_NAME",name:e}},re=function(e){return{type:"SET_CURRENT_CHAT_PHOTO",chatPhoto:e}},ne=function(e,t,a){return{type:"SET_CURRENT_CHAT_DATA",chatId:t,chatTypeId:e,currentChat:a}},se=function(e){return{type:"CURRENT_CHAT_DATA_FETCHING",isFetching:e}},ce=function(e){return{type:"SET_CHATS",chats:e}},oe=function(e){return{type:"SET_MESSAGES",messages:e}},le=function(e,t,a){return{type:"SET_READ_FROM_INDEXES",readFromIndex:e,readFromIndexNext:t,readFromIndexBefore:a}},ue=function(e){return{type:"SET_FETCHING_MSGS",IsFetchingMsgs:e}},ie=function(e){return{type:"SHOULD_WINDOW_SCROLL_DOWN",windowScrollOnMsgCreate:e}},de=function(e){return{type:"SET_MESSAGE_CREATING",isMessageCreating:e}},me=function(e){return{type:"SET_REFRESH_AFTER_MESSAGE_CREATING",isRefreshedAfterMC:e}},he=function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=parseInt(localStorage.getItem("chatId")),s=parseInt(localStorage.getItem("chatTypeId")),a.next=4,U.getChat(s,n);case 4:0===(c=a.sent).data.resultCode?r(e(c.data.data[t])):console.log("refreshCurrentChatData Error in getChat"+c.data.messages[0]);case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},fe=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getChat(t.chatTypeId,t.id);case 2:if(0!==(a=e.sent).data.resultCode){e.next=11;break}return a.data.data.chatTypeId=t.chatTypeId,a.data.data.chatId=t.id,a.data.data.chatTimeStamp=t.chatTimeStamp,0===t.chatTypeId?a.data.data.chatType="dialog":a.data.data.chatType="conversation",e.abrupt("return",a.data.data);case 11:return console.log("getChat Error "+a.data.messages[0]),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,e.abrupt("return",a.sort((function(e,t){return t.chatTimeStamp-e.chatTimeStamp})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(e,t,a){return e.map((function(e){return e[t]=t,e[a]=a,e}))},pe=function(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return function(){var o=Object(f.a)(h.a.mark((function o(l){var u,i;return h.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l(ue(!0)),c>0&&l({type:"NULL_NUM_OF_DELETED_MSGS"}),o.next=4,U.getMessages(e,t,a,r,n,c);case 4:0===(u=o.sent).data.resultCode?(i=ge(u.data.data.items,e,t),l(oe(i)),i.length>0?l(le(i[0].id,u.data.data.readFromIndexNext,u.data.data.readFromIndexBefore)):l(le(a,u.data.data.readFromIndexNext,u.data.data.readFromIndexBefore)),s&&(l(ie(!1)),l(me(!0)))):console.log("getMessages error "+u.data.messages[0]),l(ue(!1));case 7:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},be=function(){var e=Object(f.a)(h.a.mark((function e(t,a,r,n,s){var c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.createMessage(t,a,r,n);case 2:0===(c=e.sent).data.resultCode?s(ie(!0)):(o=c.data.messages.length?c.data.messages[0]:"Some error",s(Object(T.a)("CreateMessage",{_error:o})));case 4:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s){return e.apply(this,arguments)}}(),Ee=["myLocal","myGlobal","allLocal","allGlobal"],ve=function(e,t,a,r){return function(){var n=Object(f.a)(h.a.mark((function n(s){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.clearChat(e,t,a,r);case 2:if(0!==(c=n.sent).data.resultCode){n.next=7;break}return n.abrupt("return",c.data.data.cleared);case 7:console.log("clearLocalChat deleted "+c.data.messages[0]);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ce=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clear",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee[0];return ve(e,t,a,r)},_e=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clear",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee[1];return ve(e,t,a,r)},Oe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clear",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee[2];return ve(e,t,a,r)},Me=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"clear",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ee[3];return ve(e,t,a,r)},Ie=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"updateUnreadMsgs";return function(){var n=Object(f.a)(h.a.mark((function n(s){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.updateUnreadMsgs(e,t,r,a);case 2:return 0===(c=n.sent).data.resultCode?console.log("updateUnreadMsgs updated"):console.log("updateUnreadMsgs error"),n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Se=function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,U.createChat(e,t);case 3:0===(n=a.sent).data.resultCode?console.log("createChatRequest created: "+n.data.data.created):(console.log("createChatRequest error"),s=n.data.messages.length?n.data.messages[0]:"Some error",r(Object(T.a)("CreateChat",{_error:s})));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Fe=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rename";return function(){var n=Object(f.a)(h.a.mark((function n(s){var c,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.renameChat(e,t,r,a);case 2:0===(c=n.sent).data.resultCode?(console.log("chat renamed:"+c.data.data.renamed),s(he(ae,"name"))):(o=c.data.messages.length?c.data.messages[0]:"Some error",s(Object(T.a)("renameChat",{_error:o})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ye=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"addMember";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("adding member"),console.log(e,t,a),n.next=4,je(e,t,a,r,U.addMemberForConversation.bind(U),"member added: ","memberAdded","addMember error: ",s,te,"members");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ne=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"setChatPhoto";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t,a,r,U.setChatPhoto.bind(U),"chat photo changed: ","isChatPhotoChanged","setChatPhotoRequest error: ",s,re,"chatPhoto");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},je=function(){var e=Object(f.a)(h.a.mark((function e(t,a,r,n,s,c,o,l){var u,i,d,m,f,g=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=g.length>8&&void 0!==g[8]?g[8]:null,i=g.length>9&&void 0!==g[9]?g[9]:null,d=g.length>10&&void 0!==g[10]?g[10]:null,e.next=5,s(t,a,n,r);case 5:return 0===(m=e.sent).data.resultCode?(console.log(c+m.data.data[o]),i&&u(he(i,d))):(f=m.data.messages.length?m.data.messages[0]:"Some error",console.log(l+f)),e.abrupt("return",m);case 8:case"end":return e.stop()}}),e)})));return function(t,a,r,n,s,c,o,l){return e.apply(this,arguments)}}(),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INC_NUM_OF_DELETED_MSGS":var a=e.numOfDeletedMsgs+1;return Object(p.a)(Object(p.a)({},e),{},{numOfDeletedMsgs:a});case"NULL_NUM_OF_DELETED_MSGS":var r=0;return Object(p.a)(Object(p.a)({},e),{},{numOfDeletedMsgs:r});case"SET_CHATS":return Object(p.a)(Object(p.a)({},e),{},{chats:t.chats});case"SET_CHATS_ALIAS_MAP":return Object(p.a)(Object(p.a)({},e),{},{chatsAliases:t.chatsAliases});case"SET_MESSAGES":return Object(p.a)(Object(p.a)({},e),{},{messages:t.messages});case"SET_CURRENT_CHAT_DATA":return Object(p.a)(Object(p.a)({},e),{},{chatId:t.chatId,chatTypeId:t.chatTypeId,currentChat:t.currentChat});case"TOOGLE_IS_UNMOUNT":return Object(p.a)(Object(p.a)({},e),{},{isUnmount:t.isUnmount});case"CURRENT_CHAT_DATA_FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"SET_CURRENT_CHAT_MEMBERS":return Object(p.a)(Object(p.a)({},e),{},{currentChat:Object(p.a)(Object(p.a)({},e.currentChat),{},{members:t.members})});case"SET_CURRENT_CHAT_NAME":return Object(p.a)(Object(p.a)({},e),{},{currentChat:Object(p.a)(Object(p.a)({},e.currentChat),{},{name:t.name})});case"SET_CURRENT_CHAT_PHOTO":return Object(p.a)(Object(p.a)({},e),{},{currentChat:Object(p.a)(Object(p.a)({},e.currentChat),{},{chatPhoto:t.chatPhoto})});case"SET_READ_FROM_INDEXES":return Object(p.a)(Object(p.a)({},e),{},{readFromIndex:t.readFromIndex,readFromIndexNext:t.readFromIndexNext,readFromIndexBefore:t.readFromIndexBefore});case"SET_FETCHING_MSGS":return Object(p.a)(Object(p.a)({},e),{},{IsFetchingMsgs:t.IsFetchingMsgs});case"SHOULD_WINDOW_SCROLL_DOWN":return Object(p.a)(Object(p.a)({},e),{},{windowScrollOnMsgCreate:t.windowScrollOnMsgCreate});case"SET_MESSAGE_CREATING":return Object(p.a)(Object(p.a)({},e),{},{isMessageCreating:t.isMessageCreating});case"SET_REFRESH_AFTER_MESSAGE_CREATING":return Object(p.a)(Object(p.a)({},e),{},{isRefreshedAfterMC:t.isRefreshedAfterMC});case"EDIT_MESSAGE":return Object(p.a)(Object(p.a)({},e),{},{messages:e.messages.map((function(e){return e.id===t.messageId?Object(p.a)(Object(p.a)({},e),{},{body:t.newMessageBody}):e}))});default:return e}},Pe=a(132),Ue=a.n(Pe),Te=function(e){return n.a.createElement("div",{style:{backgroundColor:"white"}},n.a.createElement("img",{src:Ue.a,style:{width:"8wh",height:"8vh"}}))},xe=a(26),ke=a(5),Ae=a.n(ke),Re=a(6),De=a.n(Re),Le=function(e){if(!e)return"";var t=new Date(1e3*e),a=t.getHours()<10?"0".concat(t.getHours()):t.getHours(),r=t.getMinutes()<10?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(a,":").concat(r)},We=a(19),He=a.n(We),Be=a(127),qe=function(e){e.input;var t=e.meta,a=t.touched,r=t.error,s=t.warning,c=e.children,o=a&&r,l=a&&s;return n.a.createElement("div",{className:He.a.formControl+" "+(o?He.a.error:"")+" "+(l?He.a.warning:"")},n.a.createElement("div",{className:""},c),n.a.createElement("div",{className:""},o&&n.a.createElement("span",null,r)||l&&n.a.createElement("span",null,s)))},Ge=function(e){var t=e.input,a=(e.meta,e.child,Object(xe.a)(e,["input","meta","child"]));return n.a.createElement(qe,e,n.a.createElement("textarea",Object.assign({},t,a)))},ze=function(e){var t=e.input,a=(e.meta,e.child,Object(xe.a)(e,["input","meta","child"]));return n.a.createElement(qe,e,n.a.createElement("input",Object.assign({},t,a)))},Ve=function(e){e.input,e.meta,e.child,Object(xe.a)(e,["input","meta","child"]);var t=function(e){return new Promise((function(t,a){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return a(e)}}))},a=function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.input,!(s=r.target.files[0])){a.next=9;break}return a.next=5,t(s);case 5:c=a.sent,n.onChange({fileURL:c,fileName:s.name}),a.next=10;break;case 9:n.onChange(null);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return n.a.createElement("input",{type:"file",onChange:a})},Je=function(e,t,a,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return n.a.createElement("div",{className:""},n.a.createElement(Be.a,Object.assign({placeholder:e,name:t,component:a,validate:r},s)),c)},Xe=(n.a.Component,function(e){var t=e.pristine,a=e.reset,r=e.submitting,s=e.error,c=e.sumbitButtonName;return n.a.createElement(n.a.Fragment,null,s&&n.a.createElement("div",{className:He.a.formSummaryError},s),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"submit",disabled:t||r},c)),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"button",disabled:t||r,onClick:a},"Clear")))}),Ze=function(e){if(!e)return"Field is required"},Ke=function(e){return function(t){return t&&t.length>e?"Value must be no longer then ".concat(e," symbols"):void 0}},Qe=(Ke(10),Ke(30)),Ye=Ke(50),$e=Ke(200),et=Ke(1e3),tt=a(128),at=function(e){return e=JSON.stringify(e).replace(/"/g,"'")},rt=function(e,t,a,r){return e.map((function(e){return e[a]===t?Object(p.a)(Object(p.a)({},e),r):e}))},nt={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[],query:""},st=function(e,t){return{type:"FOLLOW_UNFOLLOW",userId:e,userRelation:t}},ct=function(e){return{type:"SET_USERS",users:e}},ot=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},lt=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},ut=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},it=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},dt=function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(r){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(ut(!0)),r(ot(e)),a.next=4,P.getUsers(e,t);case 4:n=a.sent,r(ut(!1)),r(ct(n.data.users.items)),r(lt(n.data.users.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},mt=function(){var e=Object(f.a)(h.a.mark((function e(t,a,r,n){var s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(it(!0,a)),e.next=3,r(a);case 3:if(0!==(s=e.sent).data.resultCode&&""!==s.data){e.next=9;break}return e.next=7,P.getfollow(a);case 7:0===(c=e.sent).data.resultCode&&t(n(a,c.data.data.userRelation));case 9:t(it(!1,a));case 10:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return Object(p.a)(Object(p.a)({},e),{},{query:t.query});case"FOLLOW_UNFOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:rt(e.users,t.userId,"userId",{userRelation:t.userRelation})});case"SET_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":var a=Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(g.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});return a;default:return e}},ft=a(94),gt=a.n(ft),pt=a(134),bt=a.n(pt),Et=function(e){var t=e.user,a=e.followingInProgress,r=e.unfollow,s=e.follow;return console.log(t),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement("div",null,n.a.createElement(H.b,{to:"/profile/"+t.userId},n.a.createElement("img",{src:null!=t.photos.small?t.photos.small:bt.a,className:gt.a.userPhoto}))),n.a.createElement("div",null,"subscription"===t.userRelation||"friend"===t.userRelation?n.a.createElement("button",{disabled:a.some((function(e){return e===t.userId})),onClick:function(){r(t.userId)}},"Unfollow"):n.a.createElement("button",{disabled:a.some((function(e){return e===t.userId})),onClick:function(){s(t.userId)}},"Follow"))),n.a.createElement("span",null,n.a.createElement("span",null,n.a.createElement("div",null,t.name),n.a.createElement("div",null,t.status))))},vt=function(e){var t=e.user,a=e.setSelectedForChatUsers,r=e.setSelectedForChatUser,s=e.selectedForChatUsers,c=e.chatUsersIds;e.styleForUser,Object(xe.a)(e,["user","setSelectedForChatUsers","setSelectedForChatUser","selectedForChatUsers","chatUsersIds","styleForUser"]);return n.a.createElement("div",null,n.a.createElement(H.b,{to:"/profile/"+t.userId},n.a.createElement("div",null,t.name),n.a.createElement("div",{className:gt.a.userChoosePhoto},n.a.createElement("img",{src:t.photos.small,alt:"Ava"}))),s?s.includes(t.userId)?n.a.createElement("a",{onClick:function(){a(s.filter((function(e){return e!==t.userId})))}},"Remove User"):n.a.createElement("a",{onClick:function(){a([].concat(Object(g.a)(s),[t.userId]))}},"Add User"):c.includes(t.userId)?n.a.createElement("div",{style:{color:"blue"}},"Chat Member"):n.a.createElement("a",{onClick:function(){r(t.userId),console.log("after that should run inner function of useUserReducer "+t.userId)}},"Add Member"))},Ct=a(43),_t=a(74),Ot=a.n(_t),Mt=a(135),It=a.n(Mt),St=function(e){for(var t=e.totalItemsCount,a=e.pageSize,s=e.currentPage,c=e.onPageChanged,o=e.portionSize,l=void 0===o?10:o,u=Math.ceil(t/a),i=[],d=1;d<=u;d++)i.push(d);var m=Math.ceil(u/l),h=Object(r.useState)(1),f=Object(Z.a)(h,2),g=f[0],p=f[1],b=(g-1)*l+1,E=g*l;return n.a.createElement("div",{className:Ot.a.paginator},g>1&&n.a.createElement("button",{onClick:function(){return p(g-1)}},"PREV"),i.filter((function(e){return e>=b&&e<=E})).map((function(e){return n.a.createElement("span",{className:It()(Object(Ct.a)({},Ot.a.selectedPage,s===e),Ot.a.pageNumber),key:e,onClick:function(t){c(e)}},e)})),m>g&&n.a.createElement("button",{onClick:function(){return p(g+1)}},"NEXT"))},Ft=function(e){var t=e.currentPage,a=e.totalUsersCount,r=e.pageSize,s=e.onPageChanged,c=e.users,o=e.forChat,l=void 0!==o&&o,u=e.setSelectedForChatUsers,i=e.setSelectedForChatUser,d=e.chatUsersIds,m=e.selectedForChatUsers,h=(e.styleForUsers,e.styleForUser),f=Object(xe.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users","forChat","setSelectedForChatUsers","setSelectedForChatUser","chatUsersIds","selectedForChatUsers","styleForUsers","styleForUser"]);return n.a.createElement("div",null,n.a.createElement(St,{currentPage:t,onPageChanged:s,totalItemsCount:a,pageSize:r}),n.a.createElement("div",null,c.map((function(e){return l?n.a.createElement(vt,{user:e,setSelectedForChatUsers:u,setSelectedForChatUser:i,selectedForChatUsers:m,styleForUser:h,chatUsersIds:d,fWAUFC:f.fWAUFC,clearCurrentFocusedWindow:f.clearCurrentFocusedWindow,key:e.id}):n.a.createElement(Et,{user:e,followingInProgress:f.followingInProgress,key:e.id,unfollow:f.unfollow,follow:f.follow})}))))},yt=a(49),Nt=Object(yt.a)((function(e){return e.usersPage.users}),(function(e){return e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{photos:$(e.photos)})}))})),jt=function(e){return e.usersPage.query},wt=function(e){return e.usersPage.pageSize},Pt=function(e){return e.usersPage.totalUsersCount},Ut=function(e){return e.usersPage.currentPage},Tt=function(e){return e.usersPage.isFetching},xt=function(e){return e.usersPage.followingInProgress},kt=Object(tt.a)({form:"UsersSearch"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error,o=e.query;return n.a.createElement("form",{onSubmit:t},Je(o,"search",ze,[Ye],{defaultValue:o}),c&&n.a.createElement("div",{className:He.a.formSummaryError},c),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"submit",disabled:a||s},"Run")),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"button",disabled:a||s,onClick:r},"Clear Values")))})),At=Object(d.b)((function(e){return{currentPage:Ut(e),query:jt(e)}}),{searchUsers:dt,setQuery:function(e){return{type:"SET_QUERY",query:e}}})((function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},n.a.createElement("label",{htmlFor:""},"SEARCH: "),n.a.createElement(kt,{onSubmit:function(t){e.setQuery(t.search),e.searchUsers(e.currentPage,t.search)},query:e.query})))})),Rt=Object(K.d)(Object(d.b)((function(e){return{users:Nt(e),pageSize:wt(e),totalUsersCount:Pt(e),currentPage:Ut(e),isFetching:Tt(e),followingInProgress:xt(e),query:jt(e)}}),{follow:function(e){return function(t){mt(t,e,P.follow.bind(P),st)}},unfollow:function(e){return function(t){mt(t,e,P.unfollow.bind(P),st)}},setCurrentPage:ot,toggleFollowingProgress:it,getUsers:function(e,t){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ut(!0)),a(ot(e)),t.next=4,P.getUsers(e);case 4:r=t.sent,a(ut(!1)),a(ct(r.data.users.items)),a(lt(r.data.users.totalCount));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},searchUsers:dt}))((function(e){var t=function(e,t,a,n,s){Object(r.useEffect)((function(){""===a?e(n,s):t(n,a)}),[n]);return[function(r){""===a?e(r,s):t(r,a)}]}(e.getUsers,e.searchUsers,e.query,e.currentPage,e.pageSize),a=Object(Z.a)(t,1)[0];return n.a.createElement("div",{className:e.styleForUsers?e.styleForUsers:""},e.isFetching?n.a.createElement(Te,null):null,n.a.createElement("div",null,n.a.createElement(At,null)),0===e.fWUFCID?n.a.createElement("a",{onClick:function(){return e.clearCurrentFocusedWindow(e.fWUFCID)}},"End Selection"):null,n.a.createElement(Ft,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:a,users:e.users,follow:e.follow,unfollow:e.unfollow,followingInProgress:e.followingInProgress,forChat:e.forChat,setSelectedForChatUsers:e.setSelectedForChatUsers,setSelectedForChatUser:e.setSelectedForChatUser,chatUsersIds:e.chatUsersIds,fWAUFC:e.fWAUFC,clearCurrentFocusedWindow:e.clearCurrentFocusedWindow,selectedForChatUsers:e.selectedForChatUsers,styleForUsers:e.styleForUsers,styleForUser:e.styleForUser}))})),Dt=Object(tt.a)({form:"chageChatPhoto"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error,o=e.msgStyle;return n.a.createElement("form",{onSubmit:t,className:"".concat(o," ").concat(Ae.a.addBorder)},Je("Photo","photo",ze,[et]),n.a.createElement(Xe,{pristine:a,reset:r,submitting:s,error:c,sumbitButtonName:"Change Photo"}))})),Lt=function(e){var t=e.setChatPhotoRequest,a=e.chatTypeId,r=e.chatId,s=e.msgStyle,c=void 0===s?"":s;return n.a.createElement(Dt,{onSubmit:function(e){var n=at({large:null,small:e.photo});t(a,r,n)},msgStyle:c})},Wt=Object(tt.a)({form:"renameChat"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error,o=e.msgStyle;return n.a.createElement("form",{onSubmit:t,className:"".concat(o," ").concat(Ae.a.addBorder)},Je("Name","name",ze,[$e]),n.a.createElement(Xe,{pristine:a,reset:r,submitting:s,error:c,sumbitButtonName:"Rename Chat"}))})),Ht=function(e){var t=e.renameChatRequest,a=e.chatTypeId,r=e.chatId,s=e.msgStyle,c=void 0===s?"":s;return n.a.createElement(Wt,{onSubmit:function(e){t(a,r,e.name)},msgStyle:c})},Bt=function(e){var t=e.member,a=e.memberStyle,r=e.chatMemberSettings,s=void 0===r?null:r,c=e.setMemberOperShow,o=void 0===c?null:c,l=e.setSelectedMember,u=void 0===l?null:l;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:a},n.a.createElement(H.b,{to:"/profile/"+t.id},n.a.createElement("div",{className:Ae.a.memberName},t.name),n.a.createElement("div",{className:Ae.a.memberPhoto},n.a.createElement("img",{src:t.photos.small,alt:"Ava"}))),s?n.a.createElement("a",{className:s,onClick:function(e){u(t.id),o(e)}},"Operations"):null))},qt=function(e){var t=e.members,a=e.membersShow,r=e.memberOperShow,s=e.selectedMember,c=e.memberOpers;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:a?De.a.chatsMembersActive:De.a.chatsMembers},n.a.createElement("div",{className:a?De.a.chatsMembersActive:De.a.chatsMembers},t)),n.a.createElement("div",{className:"".concat(r?De.a.smthElseListActive:Ae.a.smthElseList)},c.map((function(e){return n.a.createElement("div",{className:"".concat(De.a.subElemMSBs," ").concat(De.a.infoItemMSBs)},n.a.createElement("a",{className:"".concat(De.a.membOperLink),onClick:e.method(s)},e.name))}))))},Gt=function(e){return n.a.createElement("div",{className:Ae.a.getMemberList,onClick:function(e){e.stopPropagation()}},n.a.createElement(Rt,{setSelectedForChatUser:function(t){console.log("pre api"),e.addMember(e.chatTypeId,e.chatId,t)},forChat:!0,styleForUsers:De.a.usersForChatActive,styleForUser:De.a.userForChat,fWAUFC:e.fWAUFC,clearCurrentFocusedWindow:e.clearCurrentFocusedWindow,chatUsersIds:e.chatUsersIds}))},zt=function(e){var t=e.sended,a=e.body,r=e.authorName;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:Ae.a.chatLMAuthorName},r," "),n.a.createElement("div",{className:Ae.a.chatLMAuthorNameDotted},":"),n.a.createElement("div",{className:Ae.a.chatLMBody},a),n.a.createElement("div",{className:Ae.a.chatLMSended},Le(t)))},Vt=function(e){var t=e.lastMessage,a=e.getCountOfNewGlobalMsgs,r=e.members,s=e.chatType,c=e.name,o=e.setCurrentChatData,l=e.chatTypeId,u=e.chatId,i=e.chatPhotoSmall,d=e.isFetching,m=e.clearChatMyLocal,h=e.clearChatMyGlobal,f=e.clearChatAllLocal,g=e.clearChatAllGlobal,p=e.renameChatRequest,b=e.deleteChatRequest,E=e.addMember,v=e.setChatPhotoRequest,C=Object(xe.a)(e,["lastMessage","getCountOfNewGlobalMsgs","members","chatType","name","setCurrentChatData","chatTypeId","chatId","chatPhotoSmall","isFetching","clearChatMyLocal","clearChatMyGlobal","clearChatAllLocal","clearChatAllGlobal","renameChatRequest","deleteChatRequest","addMember","setChatPhotoRequest"]),_=function(e){e(l,u)},O="/chats/".concat(s,"/").concat(c,"/"),M=r.map((function(e){return e.id}));return r=r.map((function(e){return n.a.createElement(Bt,{member:e,key:e.id,memberStyle:"".concat(Ae.a.member," ").concat(Ae.a.subElem2)})})),d?n.a.createElement(Te,null):n.a.createElement(n.a.Fragment,null,null!==C.fWAUFC.data&&C.fWAUFC.data[1]===u&&C.fWAUFC.data[0]===l&&n.a.createElement("div",{className:Ae.a.addMember},n.a.createElement("div",{className:Ae.a.addMemberHeader},n.a.createElement(Gt,{addMember:E,chatTypeId:l,chatId:u,chatUsersIds:M,clearCurrentFocusedWindow:C.clearCurrentFocusedWindow,fWAUFC:C.fWAUFC}))),n.a.createElement("div",{className:Ae.a.chatItem},n.a.createElement(H.b,{to:O,className:Ae.a.chatItemData,onClick:function(){o(l,u)}},n.a.createElement("div",{className:Ae.a.chatItemPhoto},null!==i?n.a.createElement("img",{src:i}):n.a.createElement("div",{className:""},"chatPhotoSmall")),Object.keys(t).length>0?n.a.createElement(zt,{sended:t.sended,body:t.body,key:t.id,authorName:t.authorName}):null,n.a.createElement("div",{className:Ae.a.chatItemNewMsgsNum},a),n.a.createElement("div",{className:Ae.a.chatItemName},c)),n.a.createElement("div",{className:Ae.a.chatSettings},"Settings:",n.a.createElement("div",{className:Ae.a.chatSettingsHeader},n.a.createElement("div",{className:Ae.a.chatSettingsMembersListHeader},"members:",n.a.createElement("div",{className:Ae.a.chatSettingsMembersList},r)),n.a.createElement("div",{className:Ae.a.smthElseHeader},"clear chat:",n.a.createElement("div",{className:Ae.a.smthElseList},n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},n.a.createElement("button",{onClick:function(){return _(m)}},"Clear My Messages Locally")),n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},n.a.createElement("button",{onClick:function(){return _(h)}},"Clear My Messages Globally")),n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},n.a.createElement("button",{onClick:function(){return _(f)}},"Clear All Messages Locally")),n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},n.a.createElement("button",{onClick:function(){return _(g)}},"Clear All Messages Globally")))),n.a.createElement("div",{className:Ae.a.renameChatHeader},"rename",1===l&&n.a.createElement("div",{className:Ae.a.renameChatItem},n.a.createElement(Ht,{renameChatRequest:p,chatTypeId:l,chatId:u}))),n.a.createElement("div",{className:Ae.a.smthElseHeader},"other operations",n.a.createElement("div",{className:Ae.a.smthElseList},n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},"set photo",1===l&&n.a.createElement("div",{className:Ae.a.changePhotoChat},n.a.createElement(Lt,{setChatPhotoRequest:v,chatTypeId:l,chatId:u}))),n.a.createElement("div",{className:"".concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},1===l&&n.a.createElement("div",{className:Ae.a.addMemberItem},null===C.fWAUFC.data&&n.a.createElement("a",{onClick:function(e){return e.stopPropagation(),C.addFocusedWindow(C.fWAUFC.id,[l,u])}},"Add Member"))),n.a.createElement("div",{className:"".concat(Ae.a.deleteChat," ").concat(Ae.a.subElem," ").concat(Ae.a.infoItem)},n.a.createElement("button",{onClick:function(){return _(b)}},"DELETE CHAT"))))))))},Jt=Object(yt.a)((function(e){return e.chatsPage.chats}),(function(e){return e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{members:e.members.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{photos:$(e.photos)})})),chatPhoto:$(e.chatPhoto)})}))})),Xt=function(e){return e.chatsPage.messages},Zt=function(e){return e.chatsPage.chatTypeId},Kt=function(e){return e.chatsPage.chatId},Qt=Object(yt.a)((function(e){return e.chatsPage.currentChat}),(function(e){return null!==e?Object(p.a)(Object(p.a)({},e),{},{members:e.members.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{photos:$(e.photos)})})),chatPhoto:$(e.chatPhoto)}):null})),Yt=function(e){return e.app.focusedWindows},$t=function(e){return e.app.focusedWindowsIds},ea=function(e){return Object(yt.a)(Yt,$t,(function(t,a){return t.find((function(t){return t.id===a[e]}))||{id:a[e],data:null}}))},ta=ea("fWUsersFCId"),aa=ea("fWAddUserFCId"),ra=ea("fWMembersId"),na=ea("fWMemberOperationsId"),sa=(a(292),{initialized:!1,focusedWindows:[],focusedWindowsIds:{fWUsersFCId:0,fWAddUserFCId:1,fWMembersId:2,fWMemberOperationsId:3}}),ca=function(e,t){return{type:"SET_FOCUSED_WINDOWS",newFocusedWindow:{id:e,data:t}}},oa=function(e){return{type:"CLEAR_CURRENT_FOCUSED_WINDOW",currentWindowId:e}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{initialized:!0});case"SET_FOCUSED_WINDOWS":return Object(p.a)(Object(p.a)({},e),{},{focusedWindows:[].concat(Object(g.a)(e.focusedWindows),[t.newFocusedWindow])});case"CLEAR_FOCUSED_WINDOWS":return Object(p.a)(Object(p.a)({},e),{},{focusedWindows:[]});case"CLEAR_CURRENT_FOCUSED_WINDOW":return Object(p.a)(Object(p.a)({},e),{},{focusedWindows:e.focusedWindows.filter((function(e){return e.id!==t.currentWindowId}))});default:return e}},ua=Object(tt.a)({form:"CreateChat"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error;return n.a.createElement("form",{onSubmit:t,className:Ae.a.createChatForm},Je("Name","name",ze,[$e]),n.a.createElement(Xe,{pristine:a,reset:r,submitting:s,error:c,sumbitButtonName:"Create Chat"}))})),ia=Object(K.d)(Y,Object(d.b)((function(e){return{chats:Jt(e),isAuth:e.auth.isAuth,isFetching:e.chatsPage.isFetching,isUnmount:e.chatsPage.isUnmount,myUserId:e.auth.userId,OLDsnusers:e.chatsPage.usersToSelect,fWUFC:ta(e),fWAUFC:aa(e),fWMFC:ra(e),fWMOFC:na(e)}}),{getChats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,U.getChats(e,t);case 2:if(0!==(n=a.sent).data.resultCode){a.next=10;break}return a.next=6,fe(n.data.data.chats.items);case 6:s=a.sent,r(ce(s)),a.next=11;break;case 10:console.log("getChats error "+n.data.messages[0]);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setCurrentChatData:function(e,t){return function(a){a(se(!0)),localStorage.setItem("chatTypeId",e),localStorage.setItem("chatId",t),a(se(!1))}},unSetCurrentChatData:function(){return function(e){delete localStorage.chatId,delete localStorage.chatTypeId,e(ne(null,null,null))}},clearChatMyLocal:Ce,clearChatMyGlobal:_e,clearChatAllLocal:Oe,clearChatAllGlobal:Me,createDialog:function(e){return Se(e,null)},createConversation:function(e,t){return Se(e,t)},renameChatRequest:Fe,addMember:ye,setChatPhotoRequest:Ne,deleteChatRequest:function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,U.deleteChat(e,t);case 2:""===(n=a.sent).data?console.log("chat succ deleted"):(s=n.data.messages.length?n.data.messages[0]:"Some error",console.log("deleteChatRequest error: "+s));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},addFocusedWindow:ca,clearCurrentFocusedWindow:oa}),X.f)((function(e){var t=Object(r.useState)(!0),a=Object(Z.a)(t,2),s=a[0],c=a[1],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(r.useState)([]),n=Object(Z.a)(a,2),s=n[0],c=n[1],o=function(a){e.apply(void 0,[s].concat(Object(g.a)(t.map((function(e){return a[e]})))))};return[s,c,o]}(e.createConversation,["name"]),l=Object(Z.a)(o,3),u=l[0],i=l[1],d=l[2];if(Object(r.useEffect)((function(){(function(){var t=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=5;break}return e.unSetCurrentChatData(),t.next=4,e.getChats();case 4:c(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,s]),Object(r.useEffect)((function(){console.log("start refresh"),setTimeout(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getChats();case 2:case"end":return t.stop()}}),t)}))),5e3),console.log("end refresh"),console.log("effect refresh used by changing: ")}),[e]),s)return n.a.createElement(Te,null);var m=e.chats.map((function(t){return n.a.createElement(Vt,{lastMessage:t.lastMessage,getCountOfNewGlobalMsgs:t.getCountOfNewGlobalMsgs,members:t.members,name:t.name,chatType:t.chatType,chatId:t.chatId,chatTypeId:t.chatTypeId,key:t.id,setCurrentChatData:e.setCurrentChatData,chatPhotoSmall:t.chatPhoto.small,isFetching:e.isFetching,clearChatMyLocal:e.clearChatMyLocal,clearChatMyGlobal:e.clearChatMyGlobal,clearChatAllLocal:e.clearChatAllLocal,clearChatAllGlobal:e.clearChatAllGlobal,renameChatRequest:e.renameChatRequest,setChatPhotoRequest:e.setChatPhotoRequest,addMember:e.addMember,deleteChatRequest:e.deleteChatRequest,fWAUFC:e.fWAUFC,clearCurrentFocusedWindow:e.clearCurrentFocusedWindow,addFocusedWindow:e.addFocusedWindow})}));return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:Ae.a.chats},n.a.createElement("div",{className:Ae.a.chats_header},"Chats"),n.a.createElement("div",{className:Ae.a.createChat},n.a.createElement("div",{className:Ae.a.createChatHeader},"Create Conversation",u.length>1&&n.a.createElement(ua,{onSubmit:d,snusers:e.snusers,myUserId:e.myUserId}),null!==e.fWUFC.data?n.a.createElement("div",{className:Ae.a.getMemberList,onClick:function(e){e.stopPropagation()}},n.a.createElement(Rt,{setSelectedForChatUsers:i,forChat:!0,selectedForChatUsers:u,styleForUsers:De.a.usersForChatActive,styleForUser:De.a.userForChat,clearCurrentFocusedWindow:e.clearCurrentFocusedWindow,fWUFCID:e.fWUFC.id,toogleFocuseElem:e.toogleFocuseElem}),1===u.length&&n.a.createElement("a",{onClick:function(){e.createDialog(u[0]),e.clearCurrentFocusedWindow(e.fWUFC.id)}},"Create Dialog")):n.a.createElement("a",{className:Ae.a.getMemberList,onClick:function(t){t.stopPropagation(),e.addFocusedWindow(e.fWUFC.id,!0)}},"Choose Users for Chat"))),n.a.createElement("div",{className:Ae.a.chatsItems},m)))})),da={posts:[{id:1,message:"Hi, how are you?",likesCount:12},{id:2,message:"It's my first post",likesCount:11},{id:3,message:"Blabla",likesCount:11},{id:4,message:"Dada",likesCount:11}],profile:null,status:""},ma=function(e){return{type:"SET_USER_PROFILE",profile:e}},ha=function(e){return{type:"SET_STATUS",status:e}},fa=function(e){return{type:"UPDATE_USER_PROFILE",profileData:e}},ga=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:0===(r=t.sent).data.resultCode&&((n=r.data.data).photos=$(n.photos),n.contacts=$(n.contacts),a(ma(n)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pa=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r,n,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:0===(r=t.sent).data.resultCode?("photos"in(n=r.data.data)&&(n.photos=$(n.photos)),"contacts"in n&&(n.contacts=$(n.contacts)),a(fa(n))):(s=r.data.messages.length?r.data.messages[0]:"Some error",a(Object(T.a)("updateProfile",{_error:s})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var a={id:5,message:t.newPostText,likesCount:0};return Object(p.a)(Object(p.a)({},e),{},{posts:[].concat(Object(g.a)(e.posts),[a])});case"DELETE_POST":return Object(p.a)(Object(p.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SET_USER_PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});case"UPDATE_USER_PROFILE":return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)(Object(p.a)({},e.profile),t.profileData),{},{photos:Object(p.a)(Object(p.a)({},e.profile.photos),t.profileData.photos),contacts:Object(p.a)(Object(p.a)({},e.profile.contacts),t.profileData.contacts)})});case"SET_STATUS":return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},e.profile),{},{status:t.status})});case"SET_PHOTO":return Object(p.a)(Object(p.a)({},e),{},{profile:Object(p.a)(Object(p.a)({},e.profile),{},{photos:t.photos})});default:return e}},Ea=a(136),va=a.n(Ea),Ca=a(38),_a=a.n(Ca),Oa=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=Object(r.useState)(!1),c=Object(Z.a)(s,2),o=c[0],l=c[1],u=Object(r.useState)(e),i=Object(Z.a)(u,2),d=i[0],m=i[1],h=Object(r.useState)(!1),f=Object(Z.a)(h,2),g=f[0],p=f[1],b=Object(r.useState)("".concat(e.length,"/").concat(n)),E=Object(Z.a)(b,2),v=E[0],C=E[1];Object(r.useEffect)((function(){m(e)}),[e]);var _=function(){l(!0)},O=function(){l(!1),!g&&t(d)},M=function(e){a.every((function(t){return void 0===t(e.currentTarget.value)}))?(p(!1),m(e.currentTarget.value),I(e.currentTarget.value.length,n)):p(!0)},I=function(e,t){C("".concat(e,"/").concat(t))};return[_,O,M,o,d,g,v]},Ma=function(e){var t=Oa(e.status,e.updateStatus,[Qe],30),a=Object(Z.a)(t,7),r=a[0],s=a[1],c=a[2],o=a[3],l=a[4];a[5],a[6];return n.a.createElement("div",{className:""},e.ENSM?n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",null,"Status: ",e.status||"-------"))):n.a.createElement("div",null,!o&&n.a.createElement("div",null,n.a.createElement("span",{onDoubleClick:r},"Status: ",e.status||"-------")),o&&n.a.createElement("div",null,n.a.createElement("input",{onChange:c,autoFocus:!0,onBlur:s,value:l}))))},Ia=function(e){var t=e.profile,a=e.updateStatus,r=(e.updatePhoto,e.ENSM);return t?(console.log(t.photos.large),n.a.createElement("div",{className:_a.a.profile_info},n.a.createElement("div",{className:_a.a.landi_block},n.a.createElement("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})),n.a.createElement("div",{className:_a.a.descriptionBlock},n.a.createElement("div",{className:_a.a.ava_block},n.a.createElement("img",{src:t.photos.large,alt:"ProfilePhoto"})),n.a.createElement("div",{className:_a.a.username},"USERNAME: ",t.name),n.a.createElement("div",{className:_a.a.userinfo},n.a.createElement("div",null,"BIO: Date of Birth: 19 Jan 1997"),n.a.createElement(Ma,{status:t.status,updateStatus:a,ENSM:r}),"img url: ",n.a.createElement("a",{target:"_blank",href:t.photos.large},"Get Photo"))))):n.a.createElement(Te,null)},Sa=a(59),Fa=a.n(Sa),ya=a(137),Na=a.n(ya),ja=function(e){return n.a.createElement("div",{className:Na.a.item},n.a.createElement("img",{src:"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg"}),e.message,n.a.createElement("div",null,n.a.createElement("span",null,"like")," ",e.likesCount))},wa=Object(tt.a)({form:"ProfileAddNewPostForm"})((function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit}," ",n.a.createElement("div",{className:""},Je("Write your post","newPostText",Ge,[Ze,Qe])),n.a.createElement("div",{className:""},n.a.createElement("button",null,"Add post")))})),Pa=Object(d.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:function(e){return{type:"ADD-POST",newPostText:e}}})((function(e){var t=e.posts.map((function(e){return n.a.createElement(ja,{message:e.message,likesCount:e.likesCount})}));return n.a.createElement("div",{className:Fa.a.postsBlock},n.a.createElement("div",{className:Fa.a.myPostsHeader},"My posts"),n.a.createElement("div",{className:Fa.a.createPost},n.a.createElement(wa,{onSubmit:function(t){e.addPost(t.newPostText)}})),n.a.createElement("div",{className:Fa.a.posts},t))})),Ua=Object(K.d)(Y,Object(d.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:ga,updateStatus:function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:r=t.sent,console.log(r),0===r.data.resultCode&&a(ha(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updatePhoto:function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:0===(r=t.sent).data.resultCode?a({type:"SET_PHOTO",photos:e}):(n=r.data.messages.length?r.data.messages[0]:"Some error",a(Object(T.a)("updatePhoto",{_error:n})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteUserProfile:function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==N().data.resultCode){e.next=6;break}t(ma(null)),D.logout(),e.next=10;break;case 6:return e.next=8,I();case 8:0!==e.sent.data.resultCode&&(t(ma(null)),D.logout());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},updateUserProfile:pa}),X.f)((function(e){var t=function(){var e=Object(r.useState)(!1),t=Object(Z.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),c=Object(Z.a)(s,2),o=c[0],l=c[1];return[a,n,o,l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(null!==t?!t:a)?function(){}:e}]}(),a=Object(Z.a)(t,5),s=a[0],c=a[1],o=a[2],l=a[3],u=a[4];return Object(r.useEffect)((function(){(function(){var t=Object(f.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=e.match.params.userId)?e.userId!==parseInt(a)?!s&&c(!0):s&&c(!1):((a=e.userId)||e.history.push("/login"),s&&c(!1)),t.next=4,e.getUserProfile(a);case 4:l(!0);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.userId]),o?n.a.createElement("div",{className:va.a.profile_wrapper},n.a.createElement(Ia,{profile:e.profile,updateStatus:u(e.updateStatus),updatePhoto:u(e.updatePhoto),ENSM:s}),!s&&n.a.createElement("div",{className:""},n.a.createElement(Pa,null)," ",n.a.createElement(H.b,{to:"/profile_update"},"Update My Profile"),n.a.createElement("button",{onClick:e.deleteUserProfile},"Delete My Profile")," ")):n.a.createElement(Te,null)})),Ta=Object(tt.a)({form:"login"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error;return n.a.createElement("form",{onSubmit:t},Je("Login","login",ze,[Ze]),Je("Password","password",ze,[Ze],{type:"password"}),c&&n.a.createElement("div",{className:He.a.formSummaryError},c),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"submit",disabled:a||s},"Login")),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"button",disabled:a||s,onClick:r},"Clear Values")))})),xa=Object(d.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t){return function(){var a=Object(f.a)(h.a.mark((function a(r){var n,s;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O("token");case 2:return a.next=4,S(e,t);case 4:if(0!==(n=a.sent).data.resultCode){a.next=11;break}return a.next=8,_("token",n.data.data.token);case 8:R(r,n.data.data),a.next=13;break;case 11:s=n.data.messages.length?n.data.messages[0]:"Some error",r(Object(T.a)("login",{_error:s}));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?n.a.createElement(X.a,{to:"/profile"}):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:""},n.a.createElement("h1",null,"LOGIN"),n.a.createElement(Ta,{onSubmit:function(t){e.login(t.login,t.password)}})))})),ka=Object(tt.a)({form:"updateProfile"})((function(e){var t=Object(r.useState)(e.profile.lookingForAJob),a=Object(Z.a)(t,2),s=a[0],c=a[1],o=e.handleSubmit,l=e.pristine,u=e.reset,i=e.submitting,d=e.error,m=e.profile;return n.a.createElement("form",{onSubmit:o},n.a.createElement("label",{htmlFor:""},"Name"),Je(m.name,"name",ze,[Qe],{defaultValue:m.name}),n.a.createElement("label",{htmlFor:""},"Status"),Je(m.status,"status",Ge,[$e],{defaultValue:m.status}),n.a.createElement("h3",null,"Photos"),n.a.createElement("h4",null,"Large"),Je(m.photos.large,"photos_large",ze,null,{defaultValue:m.photos.large})," ",n.a.createElement("label",{htmlFor:""},"Small"),Je(m.photos.small,"photos_small",ze,null,{defaultValue:m.photos.small}),n.a.createElement("label",{htmlFor:""},"Are you looking for A job?"),Je(m.lookingForAJob,"lookingForAJob",ze,null,{type:"checkbox",checked:s,onClick:function(){return c(!s)}})," ",n.a.createElement("label",{htmlFor:""},"Make a small description for a job you are looking for"),Je(m.lookingForAJobDescription,"lookingForAJobDescription",Ge,[$e],{defaultValue:m.lookingForAJobDescription}),n.a.createElement("label",{htmlFor:""},"Fullname"),Je(m.fullname,"fullname",Ge,[$e],{defaultValue:m.fullname}),n.a.createElement("h3",null,"Contacts"),n.a.createElement("h4",null,"github"),Je(m.contacts.github,"contacts_github",ze,[Ye],{defaultValue:m.contacts.github}),Je("vk","contacts_vk",ze,[Ye],{defaultValue:m.contacts.vk}),Je("facebook","contacts_facebook",ze,[Ye],{defaultValue:m.contacts.facebook}),Je("instagram","contacts_instagram",ze,[Ye],{defaultValue:m.contacts.instagram}),Je("twitter","contacts_twitter",ze,[Ye],{defaultValue:m.contacts.twitter}),Je("website","contacts_website",ze,[Ye],{defaultValue:m.contacts.website}),Je("youtube","contacts_youtube",ze,[Ye],{defaultValue:m.contacts.youtube}),Je("mainLink","contacts_mainLink",ze,[Ye],{defaultValue:m.contacts.mainLink}),d&&n.a.createElement("div",{className:He.a.formSummaryError},d),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"submit",disabled:l||i},"Update")),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"button",disabled:l||i,onClick:u},"Clear Values")))})),Aa=Object(K.d)(Y,Object(d.b)((function(e){return{profile:e.profilePage.profile,userId:e.auth.userId,isAuth:e.auth.isAuth}}),{updateUserProfile:pa,getUserProfile:ga}))((function(e){Object(r.useEffect)((function(){e.getUserProfile(e.userId)}),[]);var t=Object(r.useState)(!1),a=Object(Z.a)(t,2),s=a[0],c=a[1],o=function(e,t,a){var r=["contacts","photos"];r.every((function(e){return!t.startsWith(e)}))?e[t]=a:r.map((function(r){return t.startsWith(r)&&(e[r]={},e[r][t.split("_")[1]]=a),!0}))};return s?n.a.createElement(X.a,{to:"/profile"}):e.profile?n.a.createElement("div",{className:""},n.a.createElement("h2",{className:""},"Profile Data Changing"),n.a.createElement(ka,{onSubmit:function(t){var a={};for(var r in t)o(a,r,t[r]);Object.keys(a).map((function(t){["contacts","photos"].includes(t)&&(a=Object(p.a)(Object(p.a)({},a),{},Object(Ct.a)({},t,at(Object.keys(e.profile[t]).reduce((function(r,n){return r[n]=n in a[t]?a[t][n]:e.profile[t][n],r}),{})))))})),e.updateUserProfile(a),c(!0)},profile:e.profile})):n.a.createElement(Te,null)})),Ra=(a(293),function(e){var t=e.isInvalid,a=e.onMBChange,r=e.deactivateEditMode,s=e.editedMessage,c=e.charCount;return n.a.createElement("div",{className:De.a.editMessage},n.a.createElement("textarea",{className:t?"".concat(De.a.editField," ").concat(De.a.error):"".concat(De.a.editField),onChange:a,autoFocus:!0,onBlur:r,value:s}),t&&n.a.createElement("div",{className:De.a.errorField},"Invalid Data"),n.a.createElement("div",{className:De.a.countChars},c))}),Da=function(e){var t=e.fileId,a=e.activateEditMode,r=e.messageBody,s=e.fileImageURL,c=e.fileURL,o=e.loadFile,l=e.ENSM;return t?n.a.createElement("div",{className:De.a.messageBody,onDoubleClick:l?void 0:a}," ",r,n.a.createElement("div",{className:"".concat(De.a.messageFile," ").concat(null===s?De.a.fileImageDeactivate:De.a.fileImageActivate)},n.a.createElement("span",null,"+ fileId: ",t),n.a.createElement("button",{onClick:function(){return o(t)}},"GetFile"),n.a.createElement("img",{src:s}),c&&n.a.createElement("a",{href:c},"fileURL File Here"))):n.a.createElement("div",{className:De.a.messageBody,onDoubleClick:l?void 0:a},r)};function La(e,t,a){return fetch(e).then((function(e){return console.log(e),e})).then((function(e){return e.arrayBuffer()})).then((function(e){var r=new File([e],t,{type:a});return console.log(r),r}))}var Wa=function(e){var t=e.messageBody,a=e.editMessage,s=e.ENSM,c=e.fileId,o=e.getFile,l=Oa(t,a,[et],1e3),u=Object(Z.a)(l,7),i=u[0],d=u[1],m=u[2],g=u[3],p=u[4],b=u[5],E=u[6],v=Object(r.useState)(null),C=Object(Z.a)(v,2),_=C[0],O=C[1],M=Object(r.useState)(null),I=Object(Z.a)(M,2),S=I[0],F=I[1],y=function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(t);case 2:(a=e.sent).name?(console.log(a),a.isImage?La(a.file,a.name,a.format).then((function(e){var t=new FileReader;t.onload=function(e){O(e.target.result),console.log(e),console.log(e.target.result),console.log("Imgae Uploaded")},t.readAsDataURL(e)})):La(a.file,a.name,a.format).then((function(e){var t=new FileReader;t.onload=function(e){F(e.target.result),console.log(e),console.log(e.target.result),console.log("File Uploaded")},t.readAsDataURL(e)}))):console.log("error in getting file from api");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(n.a.Fragment,null,!g&&n.a.createElement(Da,{fileId:c,activateEditMode:i,messageBody:t,fileImageURL:_,fileURL:S,loadFile:y.bind(void 0),ENSM:s}),g&&n.a.createElement(Ra,{isInvalid:b,onMBChange:m,deactivateEditMode:d,editedMessage:p,charCount:E}))},Ha=Object(r.forwardRef)((function(e,t){var a=Object(r.useRef)();Object(r.useImperativeHandle)(t,(function(e){return a.current}));var s=e.message,c=e.editMessageRequest,o=e.deleteMessageRequest,l=e.ENSM,u=e.chatTypeId,i=e.chatId,d=e.getFile,m=e.downloadFile;return n.a.createElement("div",{className:"".concat(De.a.message),ref:a},n.a.createElement("div",{className:De.a.messageAuthorName},n.a.createElement(H.b,{to:"/profile/".concat(s.authorId)},s.authorName)),n.a.createElement(Wa,{ENSM:l,editMessage:function(e,t,a){return function(r){return c(e,t,a.id,r)}}(u,i,s),messageBody:s.body,getFile:d,downloadFile:m,fileId:s.fileId}),n.a.createElement("div",{className:De.a.messageSendedEdited},n.a.createElement("div",{className:De.a.messageSended},"sended: ",Le(s.sended)),n.a.createElement("div",{className:De.a.messageEdited},"edited: ",Le(s.edited))),n.a.createElement("div",{className:De.a.deleteMessage},!l&&n.a.createElement("a",{onClick:function(){o(u,i,s.id)}},"Delete Message")))})),Ba={color:"green"},qa=Object(tt.a)({form:"CreateMessage"})((function(e){var t=e.handleSubmit,a=e.pristine,r=e.reset,s=e.submitting,c=e.error;return n.a.createElement("form",{onSubmit:t},Je("Write a message...","messageBody",Ge,[et]),Je("Upload a file...","uploadedFile",Ve,null,{type:"file"}),c&&n.a.createElement("div",{className:He.a.formSummaryError},c),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"submit",disabled:a||s},"Send")),n.a.createElement("div",{className:""},n.a.createElement("button",{type:"button",disabled:a||s,onClick:r},"Clear")))})),Ga=Object(K.d)(Y,Object(d.b)(null,{createMessageRequest:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var n=Object(f.a)(h.a.mark((function n(s){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(de(!0)),console.log("in createMessageRequest"),console.log(r),null===r){n.next=12;break}return n.next=6,U.uploadFile(r.fileURL,r.fileName);case 6:c=n.sent,console.log("fileUploadResponse.data"),console.log(c.data.data),c.data.data.fileId?be(e,t,a,c.data.data.fileId,s):(console.log("fileUploadResponse error"),console.log(Object.keys(c.data.data))),n.next=13;break;case 12:be(e,t,a,null,s);case 13:s(de(!1));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))((function(e){return n.a.createElement("div",{className:""},n.a.createElement("div",{style:Ba},"Message:"),n.a.createElement(qa,{onSubmit:function(t){t.uploadedFile?e.createMessageRequest(e.chatTypeId,e.chatId,t.messageBody,t.uploadedFile):e.createMessageRequest(e.chatTypeId,e.chatId,t.messageBody)}}))})),za=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a?[n.a.createElement("div",{className:"".concat(De.a.newMsgsStartTag),ref:r},"----------UNREAD MESSAGES----------"),n.a.createElement(Ha,{message:e.msg,key:e.msg.id,ref:t,deleteMessageRequest:e.deleteMessageRequest,editMessageRequest:e.editMessageRequest,ENSM:!e.msg.local,chatTypeId:e._chatTypeId,chatId:e._chatId,getFile:e.getFile})]:n.a.createElement(Ha,{message:e.msg,key:e.msg.id,ref:t,deleteMessageRequest:e.deleteMessageRequest,editMessageRequest:e.editMessageRequest,ENSM:!e.msg.local,chatTypeId:e._chatTypeId,chatId:e._chatId,getFile:e.getFile})},Va=Object(K.d)(Y,Object(d.b)((function(e){return{messages:Xt(e),isAuth:e.auth.isAuth,chatTypeId:Zt(e),chatId:Kt(e),currentChat:Qt(e),fWAUFC:aa(e),fWMFC:ra(e),fWMOFC:na(e),readFromIndexNext:e.chatsPage.readFromIndexNext,readFromIndex:e.chatsPage.readFromIndex,readFromIndexBefore:e.chatsPage.readFromIndexBefore,IsFetchingMsgs:e.chatsPage.IsFetchingMsgs,windowScrollOnMsgCreate:e.chatsPage.windowScrollOnMsgCreate,isMessageCreating:e.chatsPage.isMessageCreating,isRefreshedAfterMC:e.chatsPage.isRefreshedAfterMC,numOfDeletedMsgs:e.chatsPage.numOfDeletedMsgs}}),{getMessages:pe,editMessageRequest:function(e,t,a,r){return function(){var n=Object(f.a)(h.a.mark((function n(s){var c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.editMessage(e,t,a,r);case 2:0===(c=n.sent).data.resultCode?console.log("succs edited"):console.log("editMessageRequest error "+c.data.messages[0]);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},deleteMessageRequest:function(e,t,a){return function(){var r=Object(f.a)(h.a.mark((function r(n){var s;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(ue(!0)),r.next=3,U.deleteMessage(e,t,a);case 3:null===(s=r.sent).data.data?(console.log("succs deleted"),n({type:"INC_NUM_OF_DELETED_MSGS"})):console.log("deleteMessageRequest deleted "+s.data.messages[0]),n(ue(!1));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getCurrentChatData:function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){var a,r,n,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ue(!0)),a=parseInt(localStorage.getItem("chatId")),r=parseInt(localStorage.getItem("chatTypeId")),e.next=5,U.getChat(r,a);case 5:if(0!==(n=e.sent).data.resultCode){e.next=29;break}if(s="local","local"in n.data.data.lastMessage){e.next=12;break}console.log("not local lastMessage in getCurrentChatData"),e.next=16;break;case 12:if(n.data.data.lastMessage.local){e.next=16;break}return e.next=15,t(Ie(r,a,n.data.data.lastMessage.id));case 15:s=e.sent;case 16:if("local"!==s&&0!==s.data.resultCode){e.next=26;break}return c=0===r?"dialog":"conversation",n.data.data.chatTypeId=r,n.data.data.chatType=c,n.data.data.chatId=a,t(ne(r,a,n.data.data)),e.next=24,t(pe(r,a,n.data.data.readFromIndex,n.data.data.readFromIndexBefore));case 24:e.next=27;break;case 26:console.log("getCurrentChatData Error in updateUnreadMsgs"+s.data.messages[0]);case 27:e.next=30;break;case 29:console.log("getCurrentChatData Error in getChat"+n.data.messages[0]);case 30:t(ue(!1));case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearChatMyLocal:Ce,clearChatMyGlobal:_e,clearChatAllLocal:Oe,clearChatAllGlobal:Me,toogleMemberStatus:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"toogleMemberStatus";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t,a,r,U.toogleMemberStatusForConversation.bind(U),"member status toggled: ","toggled","toogleMemberStatusForConversation error: ",s,te,"members");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeMemberMsgs:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"removeMemberMsgs";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t,a,r,U.removeMemberMsgsForConversation.bind(U),"member msgs removed: ","memberMsgsRemoved","removeMemberMsgs error: ");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeOneMemberMsg:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"removeOneMemberMsg";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t,a,r,U.removeOneMemberMsgForConversation.bind(U),"member msg removed: ","memberMsgRemoved","removeOneMemberMsg error: ");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},removeMember:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"removeMember";return function(){var n=Object(f.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t,a,r,U.removeMemberFromConversation.bind(U),"member removed: ","memberRemoved","removeMember error: ",s,te,"members");case 2:n.sent;case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},setChatPhotoRequest:Ne,addMember:ye,renameChatRequest:Fe,addFocusedWindow:ca,clearCurrentFocusedWindow:oa,getFile:function(e){return function(){var t=Object(f.a)(h.a.mark((function t(a){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getFile(e);case 2:return r=t.sent,console.log("downloadedFile"),console.log(r),t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setRefreshMessageCreating:me}),X.f)((function(e){var t=e.getCurrentChatData,a=e.getMessages,s=e.IsFetchingMsgs,c=e.setRefreshMessageCreating,o=e.chatTypeId,l=e.chatId,u=e.readFromIndexNext,i=e.readFromIndex,d=e.windowScrollOnMsgCreate,m=e.isMessageCreating,g=e.isRefreshedAfterMC,b=e.numOfDeletedMsgs,E=Object(xe.a)(e,["getCurrentChatData","getMessages","IsFetchingMsgs","setRefreshMessageCreating","chatTypeId","chatId","readFromIndexNext","readFromIndex","windowScrollOnMsgCreate","isMessageCreating","isRefreshedAfterMC","numOfDeletedMsgs"]),v=Object(r.useState)(!1,"oldMsgsDonwload"),C=Object(Z.a)(v,2),_=C[0],O=C[1],M=Object(r.useState)(!1,"preFetch"),I=Object(Z.a)(M,2),S=I[0],F=I[1],y=Object(r.useState)(null,"selectedMember"),N=Object(Z.a)(y,2),j=N[0],w=N[1],P=Object(r.useState)(!0,"refToTopAtStart"),U=Object(Z.a)(P,2),T=U[0],x=U[1],k=Object(r.useState)(!1,"positioningScrollRefScroll"),A=Object(Z.a)(k,2),R=A[0],D=A[1],L=Object(r.useRef)(null),W=Object(r.useRef)(null),H=Object(r.useRef)(null),B=Object(r.useState)(!1),q=Object(Z.a)(B,2),G=q[0],z=q[1],V=Object(r.useRef)(null);Object(r.useEffect)((function(){S&&J(T?"start":"notStart",T?W.current:L.current,T?null===E.currentChat.firstNewMsgID:R&&!_,H.current)})),Object(r.useEffect)((function(){g&&(V.current?V.current.scrollIntoView():console.log("some wierd error in ref creating for last msg after creation"),g&&c(!1))}),[c,g]),Object(r.useEffect)((function(){var e,t=null,a=new IntersectionObserver((function(e,t){e.forEach((function(e){var a=e.isIntersecting;console.log("only after scroll calling"),a&&(console.log("intersetcion of target(should be true) "),console.log("TOP DIV VIEWED: "+e.target.innerText),t.unobserve(e.target),O(!0))}))}),{threshold:(e=2,Array(e+1).fill(0).map((function(t,a){return a/e||0})))});return H.current&&S&&(!R&&!_||T)&&(t=H.current,a.observe(t)),function(){return null!==t&&a.unobserve(t)}}),[R,_,T,S]);var J=function(e,t,a,r){null!=t&&("start"===e?(a?t.scrollTop=t.scrollHeight:t.scrollIntoView(),x(!1)):a&&(t.scrollIntoView(),D(!1)))};if(Object(r.useEffect)((function(){(console.log("should run 2 times only (preFetch)"),S)||function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:F(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[S,t]),Object(r.useEffect)((function(){var e=null;return G||(e=setTimeout(Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_||!S||s||R){e.next=5;break}return z(!0),e.next=4,a(o,l,i,E.readFromIndexBefore,null,d&&!m,b);case 4:z(!1);case 5:case"end":return e.stop()}}),e)}))),1500)),function(){null!==e&&clearTimeout(e)}}),[S,_,s,R,o,l,i,E.readFromIndexBefore,a,d,m,b,G]),Object(r.useEffect)((function(){if(!R&&_&&!s){var e=function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(o,l,u,i);case 2:O(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();D(!0),e()}}),[s,R,_,O,D,o,l,u,i,a]),S){b>0&&(console.log("numOfDeletedMsgs"),console.log(b));var X=u!==i?n.a.createElement("div",{className:"".concat(De.a.loadOldMsgsDiv),ref:H}):n.a.createElement("div",{className:"".concat(De.a.startChatDiv)},"----------Chat Start----------"),K=E.messages.map((function(e,t){var a={msg:e,getFile:E.getFile,_chatId:l,_chatTypeId:o,editMessageRequest:E.editMessageRequest,deleteMessageRequest:E.deleteMessageRequest};return null!==E.currentChat.firstNewMsgID&&E.currentChat.firstNewMsgID<=e.id&&(0===t||E.messages[t-1].id<E.currentChat.firstNewMsgID)?za(a,e.id===E.readFromIndexBefore&&R?L:void 0,!0,null!==E.currentChat.firstNewMsgID&&T?W:void 0):t===E.messages.length-1?za(a,g?V:void 0):za(a,e.id===E.readFromIndexBefore&&R?L:void 0)})).flat();K.unshift(X),K.length;var Q=[{method:E.toogleMemberStatus,name:"Toogle Member"},{method:E.removeMemberMsgs,name:"Remove All Member Messages"},{method:E.removeMember,name:"Remove Member"}],Y=E.currentChat.members.map((function(e){return e.id})),$=1===o?E.currentChat.members.map((function(e){return n.a.createElement(Bt,{member:e,key:e.id,memberStyle:"".concat(De.a.chatMember),chatMemberSettings:"".concat(De.a.chatMemberSettings),setMemberOperShow:function(e){return e.stopPropagation(),E.addFocusedWindow(E.fWMOFC.id,!0)},addFocusedWindow:E.addFocusedWindow,fWMOFC:E.fWMOFC,setSelectedMember:w})})):E.currentChat.members.map((function(e){return n.a.createElement(Bt,{member:e,key:e.id})}));return n.a.createElement(n.a.Fragment,null,null!==E.fWAUFC.data&&n.a.createElement("div",{className:Ae.a.addMember},n.a.createElement(Gt,{addMember:E.addMember,chatTypeId:o,chatId:l,chatUsersIds:Y,fWAUFC:E.fWAUFC,clearCurrentFocusedWindow:E.clearCurrentFocusedWindow})),n.a.createElement("div",{className:De.a.currentChat},n.a.createElement(qt,{members:$,membersShow:E.fWMFC.data,memberOperShow:E.fWMOFC.data,selectedMember:j,memberOpers:Q.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{method:(t=e.method,a=o,r=l,function(e){return function(){return t(a,r,e)}})});var t,a,r}))}),n.a.createElement("div",{className:De.a.chatsHeader},n.a.createElement("div",{className:De.a.chatsHeaderPhoto}," ",null!==E.currentChat.chatPhoto.small?n.a.createElement("img",{src:E.currentChat.chatPhoto.small}):n.a.createElement("div",{className:De.a.chatsHeaderPhotoAlt},"chatPhotoSmall")),n.a.createElement("div",{className:De.a.chatsHeaderName},E.currentChat.name),n.a.createElement("div",{className:De.a.chatsHeaderSettings},"Settings",n.a.createElement("div",{className:De.a.chatsSettings},1===o&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:De.a.chatsSettingsItem},null===E.fWAUFC.data&&n.a.createElement("a",{className:Ae.a.getMemberList,onClick:function(e){return e.stopPropagation(),E.addFocusedWindow(E.fWAUFC.id,[o,l])}},"Add Member")),n.a.createElement("div",{className:De.a.chatsSettingsItem},n.a.createElement("div",{className:De.a.chatsSettingsItemH},"Change Photo"),n.a.createElement(Lt,{msgStyle:De.a.chatsSettingsItemForm,setChatPhotoRequest:E.setChatPhotoRequest,chatTypeId:o,chatId:l})),n.a.createElement("div",{className:De.a.chatsSettingsItem},n.a.createElement("div",{className:De.a.chatsSettingsItemH},"Rename Chat"),n.a.createElement(Ht,{msgStyle:De.a.chatsSettingsItemForm,renameChatRequest:E.renameChatRequest,chatTypeId:o,chatId:l}))),n.a.createElement("div",{className:De.a.chatsSettingsItem},n.a.createElement("div",{className:De.a.chatsMembersHeader},null===E.fWMFC.data&&n.a.createElement("a",{onClick:function(e){return e.stopPropagation(),E.addFocusedWindow(E.fWMFC.id,!0)}},"Chat Members")))))),n.a.createElement("div",{className:De.a.messages,ref:null===E.currentChat.firstNewMsgID&&T?W:void 0},K),n.a.createElement("div",{className:De.a.createMessageForm},n.a.createElement(Ga,{chatTypeId:o,chatId:l,isAuth:E.isAuth}))))}return n.a.createElement(Te,null)})),Ja=n.a.memo((function(e){return console.log("rerender"),console.log(e.initialized),Object(r.useEffect)((function(){e.initializeApp()}),[]),e.initialized?n.a.createElement("div",{className:"whole-app-page-wrapper",onClick:function(){e.clearAllFocusedWindows()}},n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(G,null),n.a.createElement(J,null),n.a.createElement("div",{className:"app-wrapper-content"},n.a.createElement(X.b,{path:"/profile/:userId?",render:function(){return n.a.createElement(Ua,null)}}),n.a.createElement(X.b,{path:"/profile_update",render:function(){return n.a.createElement(Aa,null)}}),n.a.createElement(X.b,{path:"/login",render:function(){return n.a.createElement(xa,null)}}),n.a.createElement(X.b,{path:"/users",render:function(){return n.a.createElement(Rt,null)}}),n.a.createElement(X.b,{exact:!0,path:"/chats",render:function(){return n.a.createElement(ia,null)}}),n.a.createElement(X.b,{path:"/chats/:chatType/:name?",render:function(){return n.a.createElement(Va,null)}})))):n.a.createElement(Te,null)})),Xa=Object(K.d)(X.f,Object(d.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){Promise.all([e(function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return"detail"in(a=e.sent).data?["Signature has expired.","Error decoding signature.","Invalid Authorization header. No credentials provided."].includes(a.data.detail)?console.log(a.data.detail):console.log("its amaizing error - server error"):0===a.data.resultCode&&R(t,a.data.data),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())]).then((function(t){e({type:"INITIALIZED_SUCCESS"})})).catch((function(t){["Signature has expired.","Error decoding signature.","Invalid Authorization header. No credentials provided."].includes(t.response.data.detail)||console.log("its amaizing error - server error"),e({type:"INITIALIZED_SUCCESS"})})).catch((function(t){console.log("you gonna die"),e({type:"INITIALIZED_SUCCESS"})}))}},clearAllFocusedWindows:function(){return{type:"CLEAR_FOCUSED_WINDOWS"}}}))(Ja);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Za=a(129),Ka={},Qa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ka;return e},Ya=a(138),$a=Object(K.c)({profilePage:ba,chatsPage:we,sidebar:Qa,usersPage:ht,auth:D,form:Za.a,app:la}),er=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||K.d,tr=Object(K.e)($a,er(Object(K.a)(Ya.a)));window.__store__=tr;var ar=tr,rr=a(139);a.n(rr)()(n.a),c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(H.a,null,n.a.createElement(d.a,{store:ar},n.a.createElement(Xa,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},38:function(e,t,a){e.exports={profile_info:"ProfileInfo_profile_info__3Xye6",landi_block:"ProfileInfo_landi_block__6gqOF",descriptionBlock:"ProfileInfo_descriptionBlock__KO8pz",ava_block:"ProfileInfo_ava_block__a6DMK",username:"ProfileInfo_username__3sJav",userinfo:"ProfileInfo_userinfo__zdjYE"}},5:function(e,t,a){e.exports={chats:"Chats_chats__26r34",chats_header:"Chats_chats_header__2ZjAD",chatsItems:"Chats_chatsItems__2Ger5",createChat:"Chats_createChat__ciYfP",addMember:"Chats_addMember__3K9eK",getMemberList:"Chats_getMemberList___8yTw",addMemberHeader:"Chats_addMemberHeader__2bT9H",createChatHeader:"Chats_createChatHeader__1fp0w",createChatForm:"Chats_createChatForm__qU4P4",chatItem:"Chats_chatItem__d-61Y",chatItemData:"Chats_chatItemData__3Q4U3",chatItemPhoto:"Chats_chatItemPhoto__8OaoM",chatLMBody:"Chats_chatLMBody__PdKCq",chatLMSended:"Chats_chatLMSended__30pkV",chatLMAuthorName:"Chats_chatLMAuthorName__32CRr",chatLMAuthorNameDotted:"Chats_chatLMAuthorNameDotted__1J1Z0",chatItemNewMsgsNum:"Chats_chatItemNewMsgsNum__1LG1Q",chatItemName:"Chats_chatItemName__1M4vy",member:"Chats_member__3xMbX",memberName:"Chats_memberName__3s-UI",memberPhoto:"Chats_memberPhoto__1n1Td",chatSettings:"Chats_chatSettings__3ql28",chatSettingsMembersList:"Chats_chatSettingsMembersList__1BctW",smthElseList:"Chats_smthElseList__3Nx2r",subElem:"Chats_subElem__1REmT",subElem2:"Chats_subElem2__2R59R",infoItem:"Chats_infoItem__3fkvK",deleteChat:"Chats_deleteChat__3vv4E",renameChatItem:"Chats_renameChatItem__1GfT8",addBorder:"Chats_addBorder__3HJO5"}},59:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__2VQZc",myPostsHeader:"MyPosts_myPostsHeader__1m1Iu",createPost:"MyPosts_createPost__287DL",posts:"MyPosts_posts__zffl0"}},6:function(e,t,a){e.exports={fileImageActivate:"Message_fileImageActivate__nEFNT",fileImageDeactivate:"Message_fileImageDeactivate__38RWt",messageFile:"Message_messageFile__333Xv",currentChat:"Message_currentChat__2SCp-",trash:"Message_trash__1XG-x",chatsHeader:"Message_chatsHeader__1aH3p",chatsHeaderSettings:"Message_chatsHeaderSettings__3yzbg",chatsSettings:"Message_chatsSettings__2drea",chatsSettingsItem:"Message_chatsSettingsItem__3uDhW",chatsSettingsItemForm:"Message_chatsSettingsItemForm__366Ei",chatsSettingsItemH:"Message_chatsSettingsItemH__1h7H8",chatsMembers:"Message_chatsMembers__2noEW",usersForChatActive:"Message_usersForChatActive__3uOxB",userForChat:"Message_userForChat__2MVhF",chatsMembersActive:"Message_chatsMembersActive__1xxl7",chatMember:"Message_chatMember__2En4H",chatMemberSettings:"Message_chatMemberSettings__1qLcz",chatsHeaderName:"Message_chatsHeaderName__3H2k1",chatsHeaderPhoto:"Message_chatsHeaderPhoto__uBOeZ",chatsHeaderPhotoAlt:"Message_chatsHeaderPhotoAlt__NVmFR",messages:"Message_messages__3MN93",loadOldMsgsDiv:"Message_loadOldMsgsDiv__2dBwp",startChatDiv:"Message_startChatDiv__2C1ls",newMsgsStartTag:"Message_newMsgsStartTag__1o397",message:"Message_message__dqadB",messageBody:"Message_messageBody__2oQBg",messageSendedEdited:"Message_messageSendedEdited__927WX",messageSended:"Message_messageSended__2c3O9",messageEdited:"Message_messageEdited__108XK",messageAuthorName:"Message_messageAuthorName__3J3wb",createMessageForm:"Message_createMessageForm__2iUaw",editMessage:"Message_editMessage__24hZ6",deleteMessage:"Message_deleteMessage__2mrWg",editField:"Message_editField__1PtXF",error:"Message_error__1wiZz",errorField:"Message_errorField__MR1Xt",countChars:"Message_countChars__M9urq",smthElseListActive:"Message_smthElseListActive__y4JSK",subElemMSBs:"Message_subElemMSBs__2b8dk",membOperLink:"Message_membOperLink__3T6zI",infoItemMSBs:"Message_infoItemMSBs__dVy0_"}},73:function(e,t,a){e.exports={header:"Header_header__1SlV4",loginBlock:"Header_loginBlock__3Y7F0"}},74:function(e,t,a){e.exports={paginator:"paginator_paginator__16emb",pageNumber:"paginator_pageNumber__25CnE",selectedPage:"paginator_selectedPage__3QX2R"}},94:function(e,t,a){e.exports={userPhoto:"Users_userPhoto__108sy",userChoosePhoto:"Users_userChoosePhoto__1FPZ5",bottom:"Users_bottom__KcjiA",selectedPage:"Users_selectedPage__3HiCL"}}},[[166,1,2]]]);
//# sourceMappingURL=main.e3e3ee0b.chunk.js.map